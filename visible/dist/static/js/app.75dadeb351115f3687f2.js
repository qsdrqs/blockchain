webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(e){n("lL9v")},null,null).exports,o=n("/ocq"),r=n("EaLy"),d={name:"Dashboard",data:function(){return{config:{style:[{selector:"node",style:{"background-color":"#666",label:"data(id)"}},{selector:"edge",style:{"target-arrow-shape":"triangle",width:4,"line-color":"#ddd","target-arrow-color":"#ddd"}},{selector:".highlighted",style:{"curve-style":"bezier","background-color":"#61bffc","line-color":"#61bffc","target-arrow-color":"#61bffc","transition-property":"background-color, line-color, target-arrow-color","transition-duration":"0.3s","z-index":1e3}}],layout:{name:"grid",rows:2}},elements:{nodes:[],edges:[]},socket_io:null,chainLength:0,transactions:0,timePassed:"00:00:00"}},methods:{letbehighlight:function(e,t){e.$("#"+t.data.id).toggleClass("highlighted"),setTimeout(function(){e.$("#"+t.data.id).toggleClass("highlighted")},400)},add_highlight:function(e,t){e.$("#"+t.data.id).addClass("highlighted")},init_hook:function(e){var t=this,n=this;this.socket_io=Object(r.a)("ws://127.0.0.1:5000/ws"),this.axios.get("http://127.0.0.1:5000/user_list").then(function(e){for(var t=0;t<e.data.length;t++)n.elements.nodes.push({data:{id:e.data[t]},position:{x:0,y:0}})}),this.axios.get("http://127.0.0.1:5000/get_transactions").then(function(e){n.transactions=e.data}),this.axios.get("http://127.0.0.1:5000//get_admitted_chains").then(function(e){n.chainLength=e.data}),this.socket_io.on("update_topo",function(t){n.elements.edges=[];for(var a=0;a<t.length;a++){t[a].connected_users=JSON.parse(t[a].connected_users);var i={x:75*t[a].position.x+100,y:75*t[a].position.y+100};e.$("#"+t[a].user_id).position(i);for(var s=0;s<t[a].connected_users.length;s++)n.elements.edges.push({data:{id:t[a].user_id+"to"+t[a].connected_users[s],source:t[a].user_id,target:t[a].connected_users[s]}})}}),this.socket_io.emit("connect_front"),this.socket_io.on("spread_ledger",function(t){for(var a=null,i=0;i<n.elements.edges.length;i++)n.elements.edges[i].data.source==t.src&&n.elements.edges[i].data.target==t.dest&&(a=n.elements.edges[i]);n.letbehighlight(e,a)}),this.socket_io.on("update_delegate",function(t){"True"==t.is_delegate?e.$("#"+t.user_id).addClass("highlighted"):e.$("#"+t.user_id).removeClass("highlighted")}),setInterval(function(){t.axios.get("http://127.0.0.1:5000/get_running_time").then(function(e){var t=e.data,a=Math.floor(t/3600),i=Math.floor((t-3600*a)/60),s=t-3600*a-60*i;a<10&&(a="0"+a),i<10&&(i="0"+i),s<10&&(s="0"+s),n.timePassed=a+":"+i+":"+s})},1e3),this.socket_io.on("update_chain_length",function(e){n.chainLength=e}),this.socket_io.on("update_transactions",function(e){n.transactions=e})}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard"},[n("div",{staticClass:"dashboard_headers"},[n("div",[e._v("\n      Global Admitted Chain Length: "+e._s(e.chainLength)+"\n    ")]),e._v(" "),n("div",[e._v("\n      Transactions Happened: "+e._s(e.transactions)+"\n    ")]),e._v(" "),n("div",[e._v("\n      Time Passed After Simulation Start: "+e._s(e.timePassed)+"\n    ")])]),e._v(" "),n("cytoscape",{ref:"cy",attrs:{config:e.config,afterCreated:e.init_hook}},[e._l(e.elements.nodes,function(t){return n("cy-element",{key:t.data.id,attrs:{sync:!0,definition:t},on:{click:function(n){return e.letbehighlight(n,t)}}})}),e._v(" "),e._l(e.elements.edges,function(t){return n("cy-element",{key:t.data.id,attrs:{sync:!0,definition:t},on:{click:function(n){return e.letbehighlight(n,t)}}})})],2)],1)},staticRenderFns:[]};var l=n("VU/8")(d,c,!1,function(e){n("WCal")},"data-v-510e15c9",null).exports;a.default.use(o.a);var h=new o.a({routes:[{path:"/",name:"Dashboard",component:l}]}),u=n("BVZB"),g=n.n(u),f=n("mtWM"),_=n.n(f),p=n("aLYK");a.default.config.productionTip=!1,a.default.use(g.a),a.default.use(p.a,_.a),new a.default({el:"#app",router:h,components:{App:s},template:"<App/>"})},WCal:function(e,t){},lL9v:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.75dadeb351115f3687f2.js.map